# Generated by Django 4.2.11 on 2024-05-30 11:00

from django.db import migrations, models

def set_is_legacy(apps, schema_editor):
    model = apps.get_model("core", "Dataset")
    model.objects.filter(legacydataset__isnull=False).update(is_legacy=True)


class Migration(migrations.Migration):

    dependencies = [
        ('core', '0017_legacydatasettmp'),
    ]

    operations = [
        migrations.AddField(
            model_name='dataset',
            name='is_legacy',
            field=models.BooleanField(default=False, help_text='Is the dataset migrated from legacy Metax'),
        ),
        migrations.AddField(
            model_name='historicaldataset',
            name='is_legacy',
            field=models.BooleanField(default=False, help_text='Is the dataset migrated from legacy Metax'),
        ),
        migrations.RunPython(
            set_is_legacy,
            migrations.RunPython.noop
        )
    ]
